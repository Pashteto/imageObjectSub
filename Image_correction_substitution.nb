(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 9.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     12660,        271]
NotebookOptionsPosition[     11673,        242]
NotebookOutlinePosition[     12047,        258]
CellTagsIndexPosition[     12004,        255]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[BoxData[{
 RowBox[{"dirIn", "=", 
  "\"\<PyProj\\\\pic_edit\\\\pic\\\\in\\\\\>\""}], "\[IndentingNewLine]", 
 RowBox[{"dirOut", "=", 
  "\"\<C:\\\\Users\\\\Pablo\\\\PyProj\\\\pic_edit\\\\pic\\\\out2\\\\\>\""}], \
"\[IndentingNewLine]", 
 RowBox[{"newObjPath", "=", 
  "\"\<PyProj\\\\pic_edit\\\\pic\\\\equals.png\>\""}], "\[IndentingNewLine]", 
 RowBox[{"oldObjPath", "=", 
  "\"\<PyProj\\\\pic_edit\\\\pic\\\\arrow1.png\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"LIST", "=", 
   RowBox[{"Import", "[", "dirIn", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Len", "=", 
   RowBox[{"Length", "[", "LIST", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"newObj", "=", 
  RowBox[{"ColorConvert", "[", 
   RowBox[{
    RowBox[{"Import", "[", "newObjPath", "]"}], ",", "\"\<Grayscale\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"oldObj", "=", 
  RowBox[{"Binarize", "[", 
   RowBox[{"ColorConvert", "[", 
    RowBox[{
     RowBox[{"Import", "[", "oldObjPath", "]"}], ",", "\"\<Grayscale\>\""}], 
    "]"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"For", "[", 
  RowBox[{
   RowBox[{"i", "=", "0"}], ",", 
   RowBox[{"i", "<", "Len"}], ",", 
   RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"nameIn", "=", 
     RowBox[{"dirIn", "<>", 
      RowBox[{"LIST", "[", 
       RowBox[{"[", 
        RowBox[{"i", "+", "1"}], "]"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"nameOut", "=", 
     RowBox[{"dirOut", "<>", 
      RowBox[{"LIST", "[", 
       RowBox[{"[", 
        RowBox[{"i", "+", "1"}], "]"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"pic", "=", 
     RowBox[{"ColorConvert", "[", 
      RowBox[{
       RowBox[{"Import", "[", "nameIn", "]"}], ",", "\"\<Grayscale\>\""}], 
      "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"x", "=", 
     RowBox[{"ImageCorrelate", "[", 
      RowBox[{
      "pic", ",", "oldObj", ",", "NormalizedSquaredEuclideanDistance"}], 
      "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"region", "=", 
     RowBox[{"ColorNegate", "[", 
      RowBox[{"Binarize", "[", 
       RowBox[{"x", ",", "0.05"}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"out", "=", 
     RowBox[{"HighlightImage", "[", 
      RowBox[{"pic", ",", 
       RowBox[{"ImageMarker", "[", 
        RowBox[{"region", ",", 
         RowBox[{"Image", "[", 
          RowBox[{"newObj", ",", 
           RowBox[{"ImageSize", "\[Rule]", "22"}]}], "]"}]}], "]"}]}], 
      "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"Export", "[", 
     RowBox[{"nameOut", ",", "out"}], "]"}]}]}], "\[IndentingNewLine]", 
  "]"}]}], "Input",
 CellChangeTimes->{{3.843794206643997*^9, 3.843794213941741*^9}, {
   3.8437945953090644`*^9, 3.8437946950604143`*^9}, {3.8437947303836236`*^9, 
   3.843794999232479*^9}, {3.8437950422065997`*^9, 3.8437951428568487`*^9}, {
   3.843795174751898*^9, 3.8437951863429117`*^9}, {3.8437952889844313`*^9, 
   3.843795342331771*^9}, 3.843796094081068*^9, 3.843796285525264*^9, {
   3.843796349412423*^9, 3.843796363922076*^9}, {3.8437963943062525`*^9, 
   3.8437963947291117`*^9}, {3.8437965168653545`*^9, 
   3.8437965287144403`*^9}, {3.8437969167009106`*^9, 
   3.8437969831682463`*^9}, {3.843797169638487*^9, 3.8437971720488176`*^9}, {
   3.843797212619869*^9, 3.843797212695899*^9}, {3.843797648883972*^9, 
   3.8437979328357053`*^9}, {3.843798062686057*^9, 3.843798079802693*^9}, {
   3.843798181123149*^9, 3.843798183815645*^9}, 3.8437983297920604`*^9, {
   3.843798369194504*^9, 3.8437983994525924`*^9}, 3.843798439277433*^9, 
   3.843798482951809*^9},
 NumberMarks->False,ExpressionUUID->"fb367a8b-db2c-4c0c-a17c-1398196b21d2"],

Cell[BoxData["\<\"PyProj\\\\pic_edit\\\\pic\\\\in\\\\\"\>"], "Output",
 CellChangeTimes->{
  3.8437940646042805`*^9, {3.8437942112542925`*^9, 3.8437942237664394`*^9}, {
   3.8437945958849716`*^9, 3.843794602356824*^9}, {3.8437946329163785`*^9, 
   3.8437946618738117`*^9}, 3.843794695713965*^9, {3.8437947319012365`*^9, 
   3.8437948089896092`*^9}, {3.843794850442155*^9, 3.843794937595343*^9}, 
   3.843795146094945*^9, 3.8437951884343176`*^9, 3.8437952184611907`*^9, {
   3.843795296753723*^9, 3.8437953256038747`*^9}, {3.8437960797164173`*^9, 
   3.843796099222099*^9}, 3.843796300454832*^9, 3.843796364468837*^9, 
   3.8437963967479095`*^9, {3.8437965173682365`*^9, 3.843796530317669*^9}, 
   3.8437969861207094`*^9, 3.8437971727833767`*^9, {3.84379790042015*^9, 
   3.8437979135669975`*^9}, 3.843798083707656*^9, 3.84379818562472*^9, 
   3.8437983312327623`*^9, {3.843798377540104*^9, 3.843798400195655*^9}, 
   3.8437984402802534`*^9},ExpressionUUID->"49b0bd44-13b6-400b-a735-\
edddebe05532"],

Cell[BoxData["\<\"C:\\\\Users\\\\Pablo\\\\PyProj\\\\pic_edit\\\\pic\\\\out2\\\
\\\"\>"], "Output",
 CellChangeTimes->{
  3.8437940646042805`*^9, {3.8437942112542925`*^9, 3.8437942237664394`*^9}, {
   3.8437945958849716`*^9, 3.843794602356824*^9}, {3.8437946329163785`*^9, 
   3.8437946618738117`*^9}, 3.843794695713965*^9, {3.8437947319012365`*^9, 
   3.8437948089896092`*^9}, {3.843794850442155*^9, 3.843794937595343*^9}, 
   3.843795146094945*^9, 3.8437951884343176`*^9, 3.8437952184611907`*^9, {
   3.843795296753723*^9, 3.8437953256038747`*^9}, {3.8437960797164173`*^9, 
   3.843796099222099*^9}, 3.843796300454832*^9, 3.843796364468837*^9, 
   3.8437963967479095`*^9, {3.8437965173682365`*^9, 3.843796530317669*^9}, 
   3.8437969861207094`*^9, 3.8437971727833767`*^9, {3.84379790042015*^9, 
   3.8437979135669975`*^9}, 3.843798083707656*^9, 3.84379818562472*^9, 
   3.8437983312327623`*^9, {3.843798377540104*^9, 3.843798400195655*^9}, 
   3.843798440283756*^9},ExpressionUUID->"37c5dfce-78fc-44b5-92c8-\
92303cb90153"],

Cell[BoxData["\<\"PyProj\\\\pic_edit\\\\pic\\\\equals.png\"\>"], "Output",
 CellChangeTimes->{
  3.8437940646042805`*^9, {3.8437942112542925`*^9, 3.8437942237664394`*^9}, {
   3.8437945958849716`*^9, 3.843794602356824*^9}, {3.8437946329163785`*^9, 
   3.8437946618738117`*^9}, 3.843794695713965*^9, {3.8437947319012365`*^9, 
   3.8437948089896092`*^9}, {3.843794850442155*^9, 3.843794937595343*^9}, 
   3.843795146094945*^9, 3.8437951884343176`*^9, 3.8437952184611907`*^9, {
   3.843795296753723*^9, 3.8437953256038747`*^9}, {3.8437960797164173`*^9, 
   3.843796099222099*^9}, 3.843796300454832*^9, 3.843796364468837*^9, 
   3.8437963967479095`*^9, {3.8437965173682365`*^9, 3.843796530317669*^9}, 
   3.8437969861207094`*^9, 3.8437971727833767`*^9, {3.84379790042015*^9, 
   3.8437979135669975`*^9}, 3.843798083707656*^9, 3.84379818562472*^9, 
   3.8437983312327623`*^9, {3.843798377540104*^9, 3.843798400195655*^9}, 
   3.8437984402862577`*^9},ExpressionUUID->"7819363f-ade4-429a-a998-\
9b141a39c519"],

Cell[BoxData["\<\"PyProj\\\\pic_edit\\\\pic\\\\arrow1.png\"\>"], "Output",
 CellChangeTimes->{
  3.8437940646042805`*^9, {3.8437942112542925`*^9, 3.8437942237664394`*^9}, {
   3.8437945958849716`*^9, 3.843794602356824*^9}, {3.8437946329163785`*^9, 
   3.8437946618738117`*^9}, 3.843794695713965*^9, {3.8437947319012365`*^9, 
   3.8437948089896092`*^9}, {3.843794850442155*^9, 3.843794937595343*^9}, 
   3.843795146094945*^9, 3.8437951884343176`*^9, 3.8437952184611907`*^9, {
   3.843795296753723*^9, 3.8437953256038747`*^9}, {3.8437960797164173`*^9, 
   3.843796099222099*^9}, 3.843796300454832*^9, 3.843796364468837*^9, 
   3.8437963967479095`*^9, {3.8437965173682365`*^9, 3.843796530317669*^9}, 
   3.8437969861207094`*^9, 3.8437971727833767`*^9, {3.84379790042015*^9, 
   3.8437979135669975`*^9}, 3.843798083707656*^9, 3.84379818562472*^9, 
   3.8437983312327623`*^9, {3.843798377540104*^9, 3.843798400195655*^9}, 
   3.843798440288759*^9},ExpressionUUID->"f5922657-6257-424c-a41f-\
1ac7b1a5973e"],

Cell[BoxData[
 GraphicsBox[
  TagBox[RasterBox[CompressedData["
1:eJxTTMoPSmNiYGAo5gASQYnljkVFiZXBAkBOaF5xZnpeaopnXklqemqRRRIz
UFAaiEWBGKTl/yggAbz+v+H/eizwFYbKx/85/zNggZjgxn92IlXSAhBvO/E+
eoI1jLCF0igYWQAAqeFC6g==
    "], {{0, 27}, {21, 0}}, {0, 255},
    ColorFunction->GrayLevel],
   BoxForm`ImageTag[
   "Byte", ColorSpace -> "Grayscale", Interleaving -> True, MetaInformation -> 
    Association[
     "Comments" -> 
      Association[
       "Author" -> "", "Description" -> "", "Copyright" -> "", 
        "Creation time" -> "", "Software" -> "", "Disclaimer" -> "", 
        "Warning" -> "", "Source" -> "", "Comment" -> "", "Title" -> ""]]],
   Selectable->False],
  DefaultBaseStyle->"ImageGraphics",
  ImageSizeRaw->{21, 27},
  PlotRange->{{0, 21}, {0, 27}}]], "Output",
 CellChangeTimes->{
  3.8437940646042805`*^9, {3.8437942112542925`*^9, 3.8437942237664394`*^9}, {
   3.8437945958849716`*^9, 3.843794602356824*^9}, {3.8437946329163785`*^9, 
   3.8437946618738117`*^9}, 3.843794695713965*^9, {3.8437947319012365`*^9, 
   3.8437948089896092`*^9}, {3.843794850442155*^9, 3.843794937595343*^9}, 
   3.843795146094945*^9, 3.8437951884343176`*^9, 3.8437952184611907`*^9, {
   3.843795296753723*^9, 3.8437953256038747`*^9}, {3.8437960797164173`*^9, 
   3.843796099222099*^9}, 3.843796300454832*^9, 3.843796364468837*^9, 
   3.8437963967479095`*^9, {3.8437965173682365`*^9, 3.843796530317669*^9}, 
   3.8437969861207094`*^9, 3.8437971727833767`*^9, {3.84379790042015*^9, 
   3.8437979135669975`*^9}, 3.843798083707656*^9, 3.84379818562472*^9, 
   3.8437983312327623`*^9, {3.843798377540104*^9, 3.843798400195655*^9}, 
   3.843798440342798*^9},ExpressionUUID->"af18444f-e8ad-4e52-a3b2-\
ff79294703e5"],

Cell[BoxData[
 GraphicsBox[
  TagBox[RasterBox[CompressedData["
1:eJxTTMoPSmNiYGAo5gASQYnljkVFiZXBAkBOaF5xZnpeaopnXklqemqRRRJI
mSIQiwIx40gH2EIAqxgWQQZ0gFMldjNxiY4C/AAAEtUPLQ==
    "], {{0, 33}, {21, 0}}, {0, 1},
    ColorFunction->GrayLevel],
   BoxForm`ImageTag[
   "Bit", ColorSpace -> Automatic, Interleaving -> None, MetaInformation -> 
    Association[
     "Comments" -> 
      Association[
       "Author" -> "", "Description" -> "", "Copyright" -> "", 
        "Creation time" -> "", "Software" -> "", "Disclaimer" -> "", 
        "Warning" -> "", "Source" -> "", "Comment" -> "", "Title" -> ""]]],
   Selectable->False],
  DefaultBaseStyle->"ImageGraphics",
  ImageSizeRaw->{21, 33},
  PlotRange->{{0, 21}, {0, 33}}]], "Output",
 CellChangeTimes->{
  3.8437940646042805`*^9, {3.8437942112542925`*^9, 3.8437942237664394`*^9}, {
   3.8437945958849716`*^9, 3.843794602356824*^9}, {3.8437946329163785`*^9, 
   3.8437946618738117`*^9}, 3.843794695713965*^9, {3.8437947319012365`*^9, 
   3.8437948089896092`*^9}, {3.843794850442155*^9, 3.843794937595343*^9}, 
   3.843795146094945*^9, 3.8437951884343176`*^9, 3.8437952184611907`*^9, {
   3.843795296753723*^9, 3.8437953256038747`*^9}, {3.8437960797164173`*^9, 
   3.843796099222099*^9}, 3.843796300454832*^9, 3.843796364468837*^9, 
   3.8437963967479095`*^9, {3.8437965173682365`*^9, 3.843796530317669*^9}, 
   3.8437969861207094`*^9, 3.8437971727833767`*^9, {3.84379790042015*^9, 
   3.8437979135669975`*^9}, 3.843798083707656*^9, 3.84379818562472*^9, 
   3.8437983312327623`*^9, {3.843798377540104*^9, 3.843798400195655*^9}, 
   3.843798440404341*^9},ExpressionUUID->"b2b99117-cab6-462d-a505-\
d714ace7620f"]
}, Open  ]]
},
WindowSize->{1920, 781},
WindowMargins->{{Automatic, 460}, {47, Automatic}},
Magnification:>2. Inherited,
FrontEndVersion->"11.1 for Microsoft Windows (64-bit) (March 13, 2017)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[579, 22, 3668, 83, 686, "Input", "ExpressionUUID" -> \
"fb367a8b-db2c-4c0c-a17c-1398196b21d2"],
Cell[4250, 107, 998, 14, 86, "Output", "ExpressionUUID" -> \
"49b0bd44-13b6-400b-a735-edddebe05532"],
Cell[5251, 123, 1024, 15, 86, "Output", "ExpressionUUID" -> \
"37c5dfce-78fc-44b5-92c8-92303cb90153"],
Cell[6278, 140, 1002, 14, 86, "Output", "ExpressionUUID" -> \
"7819363f-ade4-429a-a998-9b141a39c519"],
Cell[7283, 156, 1000, 14, 86, "Output", "ExpressionUUID" -> \
"f5922657-6257-424c-a41f-1ac7b1a5973e"],
Cell[8286, 172, 1705, 33, 109, "Output", "ExpressionUUID" -> \
"af18444f-e8ad-4e52-a3b2-ff79294703e5"],
Cell[9994, 207, 1663, 32, 121, "Output", "ExpressionUUID" -> \
"b2b99117-cab6-462d-a505-d714ace7620f"]
}, Open  ]]
}
]
*)

